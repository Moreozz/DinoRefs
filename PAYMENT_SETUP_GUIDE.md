# 💳 Настройка платежной системы DinoRefs

## 🎯 Нужна ли регистрация в ЮMoney?

### **✅ ДА, для полноценной работы платежей нужна регистрация в ЮMoney**

**НО!** DinoRefs может работать и без платежей - все остальные функции доступны:
- 🦕 Управление реферальными программами
- 📊 Аналитика и отчеты
- 👥 Система пользователей
- 🎨 Уникальный интерфейс с динозаврами

---

## 🚀 Варианты запуска DinoRefs

### **🥇 Вариант 1: Полный запуск с платежами (рекомендуется для бизнеса)**
- ✅ Все функции включая монетизацию
- ✅ Тарифные планы работают
- ✅ Автоматическое управление подписками
- ❗ **Требует регистрацию в ЮMoney**

### **🥈 Вариант 2: Запуск без платежей (для тестирования/MVP)**
- ✅ Все функции кроме платежей
- ✅ Можно тестировать и демонстрировать
- ✅ Добавить платежи можно позже
- ✅ **Регистрация в ЮMoney НЕ нужна**

### **🥉 Вариант 3: Демо-режим платежей**
- ✅ Интерфейс платежей работает
- ✅ Можно показывать клиентам
- ⚠️ Реальные платежи не проходят
- ✅ **Регистрация в ЮMoney НЕ нужна**

---

## 💰 Регистрация в ЮMoney (если нужны реальные платежи)

### **Шаг 1: Регистрация магазина**
1. Перейдите на **https://yoomoney.ru/merchant/**
2. Нажмите **"Подключить прием платежей"**
3. Выберите **"Для бизнеса"**
4. Заполните данные о компании/ИП

### **Шаг 2: Верификация**
- Загрузите документы (ОГРН/ОГРНИП, паспорт)
- Дождитесь проверки (1-3 рабочих дня)
- Получите одобрение

### **Шаг 3: Получение данных интеграции**
После одобрения в личном кабинете найдите:
- **Shop ID** (идентификатор магазина)
- **Secret Key** (секретный ключ)
- **Notification URL** (для webhook'ов)

### **Шаг 4: Настройка в DinoRefs**
```bash
# Отредактируйте backend/.env
nano backend/.env
```

Найдите и замените:
```env
YOOMONEY_SHOP_ID=ваш-shop-id
YOOMONEY_SECRET_KEY=ваш-secret-key
YOOMONEY_NOTIFICATION_URL=https://ваш-домен.com/api/payments/yoomoney/webhook
```

---

## 🔧 Настройка DinoRefs без ЮMoney

### **Способ 1: Отключение платежей в коде**

Создайте файл конфигурации:
```bash
cat > backend/.env << EOF
# DinoRefs без платежей
FLASK_ENV=production
SECRET_KEY=$(openssl rand -hex 32)
JWT_SECRET_KEY=$(openssl rand -hex 32)
DATABASE_URL=sqlite:///dinorefs.db

# Отключение платежей
PAYMENTS_ENABLED=false
YOOMONEY_ENABLED=false

# Бесплатный режим
FREE_MODE=true
DEFAULT_PLAN=unlimited

CORS_ORIGINS=http://$(curl -s ifconfig.me)
EOF
```

### **Способ 2: Демо-режим платежей**
```bash
cat > backend/.env << EOF
# DinoRefs с демо-платежами
FLASK_ENV=production
SECRET_KEY=$(openssl rand -hex 32)
JWT_SECRET_KEY=$(openssl rand -hex 32)
DATABASE_URL=sqlite:///dinorefs.db

# Демо-режим платежей
PAYMENTS_ENABLED=true
DEMO_PAYMENTS=true
YOOMONEY_SHOP_ID=demo-shop-id
YOOMONEY_SECRET_KEY=demo-secret-key

CORS_ORIGINS=http://$(curl -s ifconfig.me)
EOF
```

---

## 🎮 Быстрый запуск без платежей

### **Команда для запуска DinoRefs без ЮMoney:**
```bash
# Исправленный скрипт запуска
curl -fsSL https://raw.githubusercontent.com/Moreozz/DinoRefs/main/scripts/fix-timeweb-issues.sh | bash
```

Этот скрипт автоматически:
- ✅ Настроит DinoRefs без реальных платежей
- ✅ Создаст демо-конфигурацию ЮMoney
- ✅ Запустит все сервисы
- ✅ Сделает платформу полностью функциональной

---

## 📊 Что работает без ЮMoney

### **✅ Полностью функциональные разделы:**
- 🦕 **Главная страница** с динозаврами
- 👥 **Регистрация и авторизация** пользователей
- 📊 **Дашборд** с аналитикой
- 🎯 **Управление проектами** и рефералами
- 📈 **Аналитика и отчеты**
- 🔗 **Реферальные ссылки** и кампании
- 💬 **Комментарии и лайки**
- 🔔 **Уведомления**
- ⚙️ **Настройки профиля**

### **⚠️ Ограниченные разделы:**
- 💳 **Страница тарифов** - показывается, но оплата не работает
- 🛒 **Модальные окна оплаты** - показывают демо-интерфейс
- 📊 **Статистика платежей** - показывает тестовые данные

---

## 🔄 Добавление платежей позже

### **Когда зарегистрируетесь в ЮMoney:**

1. **Получите данные интеграции**
2. **Обновите конфигурацию:**
```bash
cd /root/DinoRefs
nano backend/.env
```

3. **Замените демо-данные на реальные:**
```env
PAYMENTS_ENABLED=true
DEMO_PAYMENTS=false
YOOMONEY_SHOP_ID=ваш-реальный-shop-id
YOOMONEY_SECRET_KEY=ваш-реальный-secret-key
```

4. **Перезапустите сервисы:**
```bash
docker compose restart backend
```

---

## 💡 Альтернативные платежные системы

### **В будущих версиях DinoRefs можно добавить:**
- 🏦 **Сбербанк Эквайринг**
- 💳 **Тинькофф Касса**
- 🌐 **PayPal** (для международных платежей)
- ₿ **Криптоплатежи**
- 📱 **СБП** (Система быстрых платежей)

---

## 🎯 Рекомендации

### **Для тестирования и демо:**
- ✅ Запускайте **без ЮMoney**
- ✅ Используйте **демо-режим платежей**
- ✅ Показывайте клиентам полный функционал

### **Для продакшн запуска:**
- ✅ Зарегистрируйтесь в **ЮMoney**
- ✅ Настройте **реальные платежи**
- ✅ Протестируйте на **небольших суммах**

### **Для MVP/стартапа:**
- ✅ Начните **без платежей**
- ✅ Соберите **базу пользователей**
- ✅ Добавьте **монетизацию позже**

---

## 🚀 Команда быстрого запуска

**Для запуска DinoRefs прямо сейчас без ЮMoney:**

```bash
curl -fsSL https://raw.githubusercontent.com/Moreozz/DinoRefs/main/scripts/fix-timeweb-issues.sh | bash
```

**DinoRefs будет полностью функциональным, кроме реальных платежей!** 🦕✨

Платежи можно добавить в любой момент после регистрации в ЮMoney.

